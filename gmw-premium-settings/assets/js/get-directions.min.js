function gmwCalcRoute(a,b){"undefined"!==typeof directionsDisplay&&directionsDisplay.setMap(null);directionsDisplay=new google.maps.DirectionsRenderer({suppressMarkers:!1});directionsService=new google.maps.DirectionsService;directionsDisplay.setMap(gmwMapObjects[a].map);directionsDisplay.setPanel(document.getElementById("directions-panel-wrapper-"+b));jQuery("#directions-panel-wrapper-"+b).html("");var d=jQuery("#gmw-directions-start-point-"+b).val(),e=jQuery("#gmw-directions-end-coords-"+b).val(),
f=jQuery("#travel-mode-options-"+b+" li a.active").attr("id"),g=jQuery("#gmw-get-directions-form-"+b+" .unit-system-trigger:checked").val(),h=jQuery("#route-avoid-highways-trigger-"+b).is(":checked")?!0:!1,k=jQuery("#route-avoid-tolls-trigger-"+b).is(":checked")?!0:!1;directionsService.route({origin:d,destination:e,travelMode:google.maps.TravelMode[f],unitSystem:google.maps.UnitSystem[g],provideRouteAlternatives:!0,avoidHighways:h,avoidTolls:k},function(a,c){if(c==google.maps.DirectionsStatus.OK)directionsDisplay.setDirections(a);
else{var d="ZERO_RESULTS"==c?"No route could be found between the origin and destination.":"UNKNOWN_ERROR"==c?"A directions request could not be processed due to a server error. The request may succeed if you try again.":"REQUEST_DENIED"==c?"This webpage is not allowed to use the directions service.":"OVER_QUERY_LIMIT"==c?"The webpage has gone over the requests limit in too short a period of time.":"NOT_FOUND"==c?"At least one of the origin, destination, or waypoints could not be geocoded.":"INVALID_REQUEST"==
c?"The DirectionsRequest provided was invalid.":"There was an unknown error in your request. Requeststatus: nn"+c;jQuery("#directions-panel-wrapper-"+b).html('<div id="error-message">'+d+"</div>")}})}
jQuery(document).ready(function(a){a(document).on("click",".get-directions-submit",function(b){b.preventDefault();formId=a(this).closest("form").find(".gmw-directions-form-id").val();gmwFormId=a(this).closest("form").find(".gmw-form-id").val();gmwCalcRoute(gmwFormId,formId)});a(document).on("keypress",".gmw-directions-start-point",function(b){13==b.keyCode&&(b.preventDefault(),formId=a(this).closest("form").find(".gmw-directions-form-id").val(),gmwFormId=a(this).closest("form").find(".gmw-form-id").val(),
gmwCalcRoute(gmwFormId,formId))});a(document).on("click",".travel-mode-options a.travel-mode-trigger",function(b){b.preventDefault();a(".travel-mode-options li a").removeClass("active");a(this).addClass("active");formId=a(this).closest("form").find(".gmw-directions-form-id").val();gmwFormId=a(this).closest("form").find(".gmw-form-id").val();gmwCalcRoute(gmwFormId,formId)});a(document).on("change",".unit-system-options .unit-system-trigger",function(b){formId=a(this).closest("form").find(".gmw-directions-form-id").val();
gmwFormId=a(this).closest("form").find(".gmw-form-id").val();gmwCalcRoute(gmwFormId,formId)});a(document).on("click",".gmw-iw-close-button",function(a){"undefined"!==typeof directionsDisplay&&directionsDisplay.setMap(null)});a(document).on("click",".route-avoid-trigger",function(b){formId=a(this).closest("form").find(".gmw-directions-form-id").val();gmwFormId=a(this).closest("form").find(".gmw-form-id").val();gmwCalcRoute(gmwFormId,formId)})});